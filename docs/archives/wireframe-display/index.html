<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Single-Pass Wireframe Rendering'><title>Shaderé‡å¿ƒåº§æ¨™çš„ç·šæ¡†ç¹ªè£½</title>

<link rel='canonical' href='https://davidhsu666.com/archives/wireframe-display/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='Shaderé‡å¿ƒåº§æ¨™çš„ç·šæ¡†ç¹ªè£½'>
<meta property='og:description' content='Single-Pass Wireframe Rendering'>
<meta property='og:url' content='https://davidhsu666.com/archives/wireframe-display/'>
<meta property='og:site_name' content='å±•ç¶­éš¨ç­†'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='ComputerGraphics' /><meta property='article:tag' content='C&#43;&#43;' /><meta property='article:tag' content='Shader' /><meta property='article:published_time' content='2021-07-03T23:39:36&#43;08:00'/><meta property='article:modified_time' content='2021-07-03T23:39:36&#43;08:00'/><meta property='og:image' content='https://davidhsu666.com/archives/wireframe-display/img/ps/teapot_5.1.png' />
<meta name="twitter:title" content="Shaderé‡å¿ƒåº§æ¨™çš„ç·šæ¡†ç¹ªè£½">
<meta name="twitter:description" content="Single-Pass Wireframe Rendering"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://davidhsu666.com/archives/wireframe-display/img/ps/teapot_5.1.png' />
    <link rel="icon" href="https://davidhsu666.com/resource/favicon-32x32.png">






<script async src="https://www.googletagmanager.com/gtag/js?id=G-YJXR109WY7"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-YJXR109WY7', { 'anonymize_ip': false });
}
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
     
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;800&display=swap');
    :root {
        --article-font-family: 'Roboto',"Noto Serif TC", var(--base-font-family);
    }
</style>
        
    </head>
    <body class="">
        
        <script src="/js/custom.js"></script>
        <button class="btn" onclick="scrollTop1()" id="goTopBtn" title="Go to top">TOP</button>
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ›é¸å–®">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/thinking_hu84577f8e2354056019efb2e4fba9d39e_126194_300x0_resize_box_2.png" width="300"
                            height="292" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
                    <span class="emoji">ğŸ¤”</span>
                
            </figure>
        
        <h1 class="site-name"><a href="https://davidhsu666.com/">å±•ç¶­éš¨ç­†</a></h1>
        <h2 class="site-description">ç°¡æ˜“ç­†è¨˜</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/tags/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>Tags</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://github.com/beadx6ggwp'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>Github</span>
            </a>
        </li>
        
        

        <li >
            <a href='/test/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>test</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>æš—è‰²æ¨¡å¼</span>
            </li>
        
    </ol>
</aside>

            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://davidhsu666.com/" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="has-image main-article">
    
    <header class="article-header">
        <div class="article-image">
            <a href="/archives/wireframe-display/">
                <img src="/archives/wireframe-display/img/ps/teapot_5.1.png"
                        
                        width="919" 
                        height="604" 
                        loading="lazy"
                        alt="Featured image of post Shaderé‡å¿ƒåº§æ¨™çš„ç·šæ¡†ç¹ªè£½" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/computergraphics/" style="background-color: #95C6EE; color: #000;">
                Computer Graphics
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/archives/wireframe-display/">Shaderé‡å¿ƒåº§æ¨™çš„ç·šæ¡†ç¹ªè£½</a>
    </h2>

    
    <h3 class="article-subtitle">
        Single-Pass Wireframe Rendering
    </h3>
    <footer class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <time class="article-time--published">Jul 03, 2021</time>
    </footer></div>
</header>

    
    <section class="article-content">
    <div>
    
    <p>ç›®éŒ„:
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ç°¡ä»‹">ç°¡ä»‹</a></li>
    <li><a href="#ä»‹ç´¹">ä»‹ç´¹</a></li>
    <li><a href="#å•é¡Œ">å•é¡Œ</a></li>
    <li><a href="#è§£æ±ºæ–¹æ³•èˆ‡åŸç†">è§£æ±ºæ–¹æ³•èˆ‡åŸç†</a>
      <ul>
        <li><a href="#å–®ç´”ä½¿ç”¨é‡å¿ƒåº§æ¨™-const-offset">å–®ç´”ä½¿ç”¨é‡å¿ƒåº§æ¨™ const offset</a></li>
        <li><a href="#æœ€çŸ­é‚Šè·æ³•-shortest-distance-to-the-edge">æœ€çŸ­é‚Šè·æ³• shortest distance to the edge</a></li>
        <li><a href="#åé‹¸é½’è™•ç†antialiased-wireframe-drawing">åé‹¸é½’è™•ç†Antialiased Wireframe Drawing</a></li>
      </ul>
    </li>
    <li><a href="#æ‡‰ç”¨èˆ‡è¨è«–">æ‡‰ç”¨èˆ‡è¨è«–</a>
      <ul>
        <li><a href="#è™›ç·šæ¨£å¼">è™›ç·šæ¨£å¼</a></li>
        <li><a href="#å¤–å´åé‹¸é½’">å¤–å´åé‹¸é½’</a></li>
        <li><a href="#å„ªç¼ºé»">å„ªç¼ºé»</a></li>
      </ul>
    </li>
    <li><a href="#çµèª">çµèª</a></li>
    <li><a href="#reference">Reference</a></li>
  </ul>
</nav>
</div>

<br>
<h2 id="ç°¡ä»‹">ç°¡ä»‹</h2>
<p>åƒè€ƒé€™å¹¾ç¯‡æ–‡ç« ï¼Œä¸¦ä»‹ç´¹ç·šæ¡†ç¹ªè£½çš„å•é¡Œé»èˆ‡è§£æ±ºæ–¹æ³•:</p>
<ul>
<li><a class="link" href="http://www2.imm.dtu.dk/pubdb/edoc/imm4884.pdf"  target="_blank" rel="noopener"
    >Single-Pass Wireframe Rendering, Siggraph 2006</a></li>
<li><a class="link" href="https://developer.download.nvidia.com/SDK/10/direct3d/Source/SolidWireframe/Doc/SolidWireframe.pdf"  target="_blank" rel="noopener"
    >Solid Wireframe, NVIDIA Whitepaper 2007</a></li>
<li><a class="link" href="https://backend.orbit.dtu.dk/ws/portalfiles/portal/3735323/wire-sccg.pdf"  target="_blank" rel="noopener"
    >Two Methods for Antialiased Wireframe Drawing with Hidden Line Removal, SCCG &lsquo;08</a></li>
</ul>
<p>æ–‡ç« ç¸½çµçš„ç·šæ¡†æ¸²æŸ“æ–¹å¼éƒ½éå¸¸ç°¡å–®ç›´è§€ï¼Œå°±æ˜¯åœ¨Shaderæ™‚ï¼Œæ‰¾å‡ºä¸‰è§’å½¢å…§çš„å‹•é»Pèˆ‡é‚Šç•Œçš„æœ€çŸ­è·é›¢dï¼Œç•¶<code>d &lt; LineWidth</code>æ™‚å°±ä»£è¡¨Pé»å±¬æ–¼ç·šæ¡†çš„éƒ¨åˆ†ï¼Œé‚£å°±ç¹ªè£½ç·šæ¡†çš„é¡è‰²ï¼Œç„¶å¾Œå†é€ésmoothing functionçµ¦LineWidthé€™å€‹é–¥å€¼åšå¹³æ»‘ï¼Œè®“ç·šæ®µé‚Šç·£çš„é¡è‰²éæ¸›ï¼Œå°±é€™æ¨£</p>
<p>åªæ˜¯æƒ³å˜—è©¦æ•˜è¿°ç ”ç©¶è€…ä¸€é–‹å§‹æ‰€é‡åˆ°çš„å•é¡Œï¼Œä¸¦å¾ªåºæ¼¸é€²çš„è§£æ±ºï¼Œåˆ°æœ€å¾Œå¾—å‡ºçµè«–ï¼Œä¾†è¨­æƒ³é‡åˆ°å•é¡Œè©²æ€éº¼è‘—æ‰‹è§£æ±º</p>
<p>ä½¿ç”¨<a class="link" href="https://github.com/beadx6ggwp/RenderLearningPlan"  target="_blank" rel="noopener"
    >myMiniRender</a>æ¸²æŸ“çš„çµæœ :
<figure style="flex-grow: 152; flex-basis: 365px">
		<a href="/archives/wireframe-display/img/ps/teapot_5.1.png" data-size="919x604"><img src="/archives/wireframe-display/img/ps/teapot_5.1.png"
				
				width="919"
				height="604"
				loading="lazy"
				alt="(a)åªä½¿ç”¨const offset, (b)è§£æ±ºæ–¹æ³•single pass method:é‚Šè·&#43;å¹³æ»‘å‡½æ•¸åé‹¸é½’, (c)ä½¿ç”¨é‚Šè·&#43;const offset, ">
		</a>
		
		<figcaption>(a)åªä½¿ç”¨const offset, (b)è§£æ±ºæ–¹æ³•single pass method:é‚Šè·+å¹³æ»‘å‡½æ•¸åé‹¸é½’, (c)ä½¿ç”¨é‚Šè·+const offset,</figcaption>
		
	</figure></p>
<br>
<h2 id="ä»‹ç´¹">ä»‹ç´¹</h2>
<p>åœ¨å»ºç«‹äº†åŸºæœ¬æ¸²æŸ“æµæ°´ç·šå¾Œï¼ŒåŸæœ¬æƒ³è¦æ–¹ä¾¿Debugï¼Œæ‰€ä»¥åœ¨pipelineå¤–ï¼Œå°‡æŠ•å½±å¾Œçš„é ‚é»åº§æ¨™é€£æˆç·šæ®µä¸‰è§’å½¢ï¼Œä¾†ç•«å‡ºåŸºæœ¬ç·šæ¡†æ–¹ä¾¿è§€å¯Ÿï¼Œè€Œé€™å¤§è‡´å°±æ˜¯gl.LINESçš„æ–¹å¼</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="n">TextureShader</span> <span class="n">shader</span><span class="p">;</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">model_head</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">model</span><span class="o">-&gt;</span><span class="n">nfaces</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Vec4f</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="c1">// æŠ•å½±è½‰æ›å¾Œçš„åº§æ¨™
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">screen_coords</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">shader</span><span class="p">.</span><span class="n">vertex</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// å…ˆå¿½ç•¥PixelShaderï¼Œç¾åœ¨è¦çš„æ˜¯ç·šæ¡†ï¼Œä¸æ˜¯åƒç´ è‘—è‰²
</span><span class="c1"></span>    <span class="c1">// triangle(screen_coords, shader, device); 
</span><span class="c1"></span>    <span class="n">drawTriangleLine</span><span class="p">(</span><span class="n">screen_coords</span><span class="p">,</span> <span class="n">black</span><span class="p">);</span><span class="c1">// é¡ä¼¼gl.LINEçš„ç·šæ®µç¹ªè£½
</span><span class="c1"></span><span class="p">}</span>
</code></pre></div><p><figure style="flex-grow: 106; flex-basis: 256px">
		<a href="/archives/wireframe-display/img/line-rect.png" data-size="208x195"><img src="/archives/wireframe-display/img/line-rect.png"
				
				width="208"
				height="195"
				loading="lazy"
				alt="ä¸Šé¢é‚£æ®µcodeæ‰€ç¹ªè£½çš„ç·šæ¡†åœ–">
		</a>
		
		<figcaption>ä¸Šé¢é‚£æ®µcodeæ‰€ç¹ªè£½çš„ç·šæ¡†åœ–</figcaption>
		
	</figure><figure style="flex-grow: 254; flex-basis: 610px">
		<a href="/archives/wireframe-display/img/line-ship.png" data-size="715x281"><img src="/archives/wireframe-display/img/line-ship.png"
				
				width="715"
				height="281"
				loading="lazy"
				alt="myMiniRenderç·šæ®µç¹ªè£½æ–¹å½¢èˆ‡æ¨¡å‹ç·šæ¡†">
		</a>
		
		<figcaption>myMiniRenderç·šæ®µç¹ªè£½æ–¹å½¢èˆ‡æ¨¡å‹ç·šæ¡†</figcaption>
		
	</figure></p>
<p>æ•ˆæœå¦‚ä¸Šé¢å…©å¼µåœ–ï¼Œä½†èƒŒé¢çš„ç·šæ¢æœƒå°è‡´ç•«é¢å¾ˆé›œäº‚ï¼Œç‚ºäº†<strong>æ­£ç¢ºé¡¯ç¤ºèƒŒéƒ¨æ¶ˆé™¤èˆ‡ç‰©é«”é®æ“‹</strong>ï¼Œæ‰€ä»¥éœ€è¦ç‰¹åˆ¥è™•ç†</p>
<p>èƒŒéƒ¨æ¶ˆé™¤çš„ç·šæ¢ï¼Œä»¥å¾€æ˜¯åˆ†æˆå…©æ¬¡ç¹ªè£½(Two-pass)çš„æ–¹å¼ï¼ŒæŒ‡åŒå€‹ç•«é¢ç¸½å…±ç¶“éäº†å…©æ¬¡pipelineè™•ç†ï¼Œè®“ç‰©é«”èˆ‡ç·šæ¡†ç¨ç«‹ç¹ªè£½ï¼Œä¸¦ç”¢ç”Ÿå…©å€‹æ·±åº¦ç·©è¡(Z-buffer)ï¼Œ1.æ˜¯ç¹ªè£½ç‰©é«”æ™‚çš„Zo(object)ï¼Œ2.æ˜¯ç¹ªè£½ç·šæ¡†æ™‚çš„Zw(wireframe)ï¼Œé€šå¸¸ç¹ªè£½çš„é †åºæ˜¯å…ˆç¹ªè£½ç‰©é«”è¡¨é¢ï¼Œç„¶å¾Œåœ¨ç¹ªè£½ç·šæ¡†æ™‚ï¼Œæ¯”è¼ƒZwèˆ‡Zoçš„æ·±åº¦ï¼Œä¾†åˆ¤æ–·ç·šæ¡†è·Ÿç‰©é«”ä¹‹é–“çš„å‰å¾Œé®æ“‹</p>
<br>
<h2 id="å•é¡Œ">å•é¡Œ</h2>
<p>ä½¿ç”¨Two-passé€™ç¨®æ–¹æ³•ç¹ªè£½èƒŒéƒ¨æ¶ˆé™¤çš„ç·šæ®µæ™‚ï¼Œæœƒæœ‰å¹¾å€‹é™åˆ¶:</p>
<ol>
<li>ç„¡æ³•<strong>æ›´æ”¹ç·šæ¢å¯¬åº¦</strong>ã€<strong>æ’å€¼ç·šæ®µé¡è‰²</strong>ç­‰æ¨£å¼è™•ç†</li>
<li>ç„¡æ³•é€²è¡Œåé‹¸é½’çš„è™•ç†ï¼Œå› ç‚ºåé‹¸é½’æœƒéœ€è¦é€éæµæ°´ç·šè™•ç†Blendingç­‰æ“ä½œ</li>
<li>ç‰©é«”èˆ‡ç·šæ®µæœƒä½¿ç”¨ä¸€æ¨£çš„é ‚é»ï¼Œä¹Ÿå°±ä»£è¡¨å…±ç”¨ä¸€æ¨£çš„æ·±åº¦ï¼Œå°è‡´ç·šæ¡†æ·±åº¦è·Ÿç‰©é«”æ·±åº¦Z-bufferåˆ¤æ–·é®æ“‹çš„æ™‚å€™ï¼Œæ·±åº¦ä¸€æ¨£ï¼Œä¸çŸ¥é“æ˜¯ç‰©é«”åœ¨å‰ï¼Œé‚„æ˜¯ç·šæ®µåœ¨å‰ï¼Œå°è‡´Z-fighting</li>
</ol>
<blockquote>
<p>ç´°ç¯€è£œå…… :<br>ç¬¬ä¸€å€‹passæ¸²æŸ“ç‰©é«”ä¸¦ç”¢ç”ŸZoï¼Œè€Œç¬¬äºŒå€‹passè©³ç´°æ­¥é©Ÿæ˜¯: 1.å°‡ç·šæ®µé ‚é»è™•ç†æŠ•å½±è®Šæ›(MVP)å¾Œå¾—åˆ°ç·šæ®µé ‚é»çš„z-buffer, Zwï¼Œ2.åœ¨å…‰æŸµåŒ–ç·šæ®µåƒç´ Pæ™‚ï¼Œå°‡Pé»çš„ç·šæ®µZwèˆ‡ç‰©é«”Zoçš„æ·±åº¦é€²è¡Œæ¯”è¼ƒï¼Œ<code>if(Zw(P) &lt;Zo(P)) draw(P);</code>ï¼Œä»¥æ­¤ä¾†ç¹ªè£½æ­£ç¢ºçš„é®æ“‹ç·šæ®µã€‚<br>
ä½†é€™æ™‚ç‰©é«”èˆ‡ç·šæ®µçš„passéƒ½ç”¨ä¸€æ¨£çš„é ‚é»ï¼Œå¯èƒ½æœƒå°è‡´Z-fighting(æ·±åº¦zå€¼ä¸€æ¨£ä¸æ›‰å¾—èª°å‰èª°å¾Œ)æˆ–ä¸æ­£ç¢ºçš„é®æ“‹ï¼Œæ‰€ä»¥éœ€è¦é€éæ·±åº¦åç§»(depth bias offset)ï¼Œå°‡ç‰©é«”çš„æ·±åº¦æ”¾åœ¨æ¨¡å‹å¾Œé¢ä¸€é»çš„ä½ç½®ï¼Œæ‰èƒ½æ­£ç¢ºè®“ç·šæ¡†ç¹ªè£½åœ¨ç‰©é«”å‰é¢ã€‚<br><br>
é›–ç„¶<strong>ç¹ªè£½å‡ºçš„æ•ˆæœä¸éŒ¯</strong>ï¼Œä¸éz-bufferçš„å€¼æ˜¯é€éPerspectiveçš„éç·šæ€§è½‰æ›å¾—ä¾†ï¼Œé‚„æœ‰ç²¾åº¦å•é¡Œï¼Œæ‰€ä»¥åœ¨æŸäº›åœ°æ–¹å¯èƒ½å› ç‚ºé€™ä¸€é»é»çš„å‰å¾Œå·®è·å°è‡´ä¸€äº›æœ¬è©²è¢«é®æ“‹çš„å€åŸŸæœªè¢«é®æ“‹ï¼Œæ‰€ä»¥åœ¨æŸäº›æ™‚å€™æœƒæœ‰å•é¡Œ</p>
</blockquote>
<p>å¦‚åœ–(a)ä¸­çš„ç´…è‰²çš„ç·šæ®µèƒ½æ­£ç¢ºè¢«é®æ“‹ï¼Œä¸”å› ç‚ºæœ‰æ·±åº¦åç§»ï¼Œè®“ç·šæ®µé ‚é»åœ¨ç‰©é«”çš„å‰é¢ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡passç¹ªè£½ç‰©é«”ç”¢ç”ŸZoå¾Œï¼Œç¬¬äºŒæ¬¡passåœ¨ç¹ªè£½ç·šæ®µæ™‚ï¼Œåªè¦æ¯”è¼ƒç·šæ®µä¸­Pé»æ·±åº¦æœ‰æ²’æœ‰æ¯”Zoæ›´è¿‘å³å¯åˆ¤æ–·æ˜¯å¦ç¹ªè£½ï¼Œä»¥æ­¤é”åˆ°ç·šæ®µé®æ“‹èˆ‡èƒŒéƒ¨æ¶ˆé™¤çš„æ•ˆæœï¼Œåœ–(b)å¼•ç”¨<a class="link" href="https://arxiv.org/abs/1810.01175"  target="_blank" rel="noopener"
    >Line Drawings from 3D Models, p18</a></p>
<p><figure style="flex-grow: 226; flex-basis: 544px">
		<a href="/archives/wireframe-display/img/z-buffer2.png" data-size="1086x479"><img src="/archives/wireframe-display/img/z-buffer2.png"
				
				width="1086"
				height="479"
				loading="lazy"
				alt="(a)ç‰©é«”çš„Z-buffer, Zo,èˆ‡ç·šæ®µé®æ“‹ç¤ºæ„åœ–">
		</a>
		
		<figcaption>(a)ç‰©é«”çš„Z-buffer, Zo,èˆ‡ç·šæ®µé®æ“‹ç¤ºæ„åœ–</figcaption>
		
	</figure><figure style="flex-grow: 88; flex-basis: 212px">
		<a href="/archives/wireframe-display/img/multi-pass-rendering.png" data-size="707x799"><img src="/archives/wireframe-display/img/multi-pass-rendering.png"
				
				width="707"
				height="799"
				loading="lazy"
				alt="(b)ä½¿ç”¨Laplacian of Gaussian filteråœ¨two-passæ™‚è™•ç†ç‰©é«”è¼ªå»“">
		</a>
		
		<figcaption>(b)ä½¿ç”¨Laplacian of Gaussian filteråœ¨two-passæ™‚è™•ç†ç‰©é«”è¼ªå»“</figcaption>
		
	</figure></p>
<p>è€Œé€™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›é€éå¾ªåºæ¼¸é€²çš„æ–¹å¼ï¼Œä»‹ç´¹å¯ä»¥åœ¨ä¸€å€‹passå…§ç¹ªè£½ç‰©é«”èˆ‡ç·šæ¡†çš„æ–¹æ³•ï¼Œåƒ…é€éShaderç¹ªè£½æ™‚å‚³å…¥çš„é‡å¿ƒåº§æ¨™èˆ‡é ‚é»ï¼Œå³å¯åœ¨ä¸‰è§’å½¢é‚Šç·£ç¹ªè£½ä¸åŒçš„åœ–æ¡ˆï¼Œè€Œä¸”å› ç‚ºæ˜¯single-passï¼Œç›¸å°ä¾†èªªæ•ˆèƒ½æ›´å¥½ï¼Œä½¿ç”¨ä¸Šä¹Ÿç°¡å–®å¥½ç”¨</p>
<p>é€™æ–¹æ³•çš„ç¼ºé»å¤§æ¦‚å°±æ˜¯æ¡†ç·šç¹ªè£½åœ¨ä¸‰è§’å½¢å…§éƒ¨ï¼Œæ‰€ä»¥æœƒä½¿ç‰©é«”è¼ªå»“çœ‹èµ·ä¾†æ›´è–„ä¸€äº›ï¼Œä¹Ÿå› ç‚ºåªåœ¨å…§éƒ¨ç¹ªè£½ï¼Œæ‰€ä»¥åªæœ‰å…§å´æœ‰åé‹¸é½’æ•ˆæœ</p>
<br>
<h2 id="è§£æ±ºæ–¹æ³•èˆ‡åŸç†">è§£æ±ºæ–¹æ³•èˆ‡åŸç†</h2>
<p>å¿…è¦çŸ¥è­˜ : <a class="link" href="https://davidhsu666.com/archives/barycentric-coordinates/"  target="_blank" rel="noopener"
    >é‡å¿ƒåº§æ¨™çš„æ¨å°èˆ‡ä½¿ç”¨ Barycentric Coordinates</a>ã€<a class="link" href="https://www.youtube.com/watch?v=t7Ztio8cwqM"  target="_blank" rel="noopener"
    >å‹•ç•«åœ–è§£ Rasterizer Algorithm Explanation</a></p>
<p>å¦‚æœè¦åœ¨single-passä¸‹å®Œæˆçš„è©±ï¼Œå‹¢å¿…è¦åœ¨ã€ŒShaderç¹ªè£½ç‰©é«”çš„æ™‚å€™<strong>ä¸€èµ·ç•«å‡ºç·šæ®µ</strong>ã€ï¼Œè€Œåœ¨å…‰æŸµåŒ–ä¸‰è§’å½¢(Rasterization)çš„æ™‚å€™ï¼Œæœƒæœ‰ä¸€å€‹å‹•é»På»èµ°è¨ªä¸‰è§’å½¢çš„æ‰€æœ‰<strong>åƒç´ å€åŸŸ</strong>ï¼Œä¸¦çµ¦Shaderå‚³å…¥Pé»çš„é‡å¿ƒåº§æ¨™</p>
<h3 id="å–®ç´”ä½¿ç”¨é‡å¿ƒåº§æ¨™-const-offset">å–®ç´”ä½¿ç”¨é‡å¿ƒåº§æ¨™ const offset</h3>
<p>å‰é¢æåˆ°éï¼Œé‡å¿ƒåº§æ¨™(bar)alphaã€betaã€gammaå°±æ˜¯é ‚é»A,B,Cå°é¢é‚£å¡Šå€åŸŸçš„é¢ç©æ¯”ï¼Œä¹Ÿå°±æ˜¯èªªã€Œ<strong>ç•¶æŸä¸€å¡Šé¢ç©æ¯”ç‚º0æ™‚ï¼Œå°±ä»£è¡¨Pé»åœ¨ä¸‰è§’å½¢çš„é‚Šä¸Š</strong>ã€</p>
<p><a class="link" href="https://www.geogebra.org/m/ZuvmPjmy"  target="_blank" rel="noopener"
    >ç·šä¸Šæ“ä½œç¯„ä¾‹</a> : å¯æ‹–å‹•é‡å¿ƒåº§æ¨™åœ¨ä¸‰è§’å½¢çš„é‚Šç•Œä¸Šç§»å‹•ï¼Œå»è§€å¯Ÿé‡å¿ƒåº§æ¨™çš„å€¼</p>
<p><figure style="flex-grow: 127; flex-basis: 306px">
		<a href="/archives/wireframe-display/img/p%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E9%82%8A%E4%B8%8A%E7%9A%84%E6%83%85%E6%B3%812.png" data-size="523x409"><img src="/archives/wireframe-display/img/p%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E9%82%8A%E4%B8%8A%E7%9A%84%E6%83%85%E6%B3%812.png"
				
				width="523"
				height="409"
				loading="lazy"
				>
		</a>
		
	</figure>
<figure style="flex-grow: 139; flex-basis: 333px">
		<a href="/archives/wireframe-display/img/p%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E9%82%8A%E4%B8%8A%E7%9A%84%E6%83%85%E6%B3%813.png" data-size="670x482"><img src="/archives/wireframe-display/img/p%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E9%82%8A%E4%B8%8A%E7%9A%84%E6%83%85%E6%B3%813.png"
				
				width="670"
				height="482"
				loading="lazy"
				>
		</a>
		
	</figure></p>
<p>å¦‚å·¦åœ–ï¼Œç•¶é‡å¿ƒåº§æ¨™åœ¨è—è‰²ç·šä¸Šæ™‚ï¼Œbetaæ¯”çš„é¢ç©ç‚º0ï¼Œä»£è¡¨é€™å€‹é»åœ¨é‚Šä¸Šï¼Œä½†å…‰æŸµåŒ–æ™‚çš„åƒç´ æ¸²æŸ“æ˜¯ä¸€æ ¼ä¸€æ ¼çš„ï¼Œå¾ˆå¤šæ™‚å€™Pæ ¹æœ¬ä¸å¯èƒ½å‰›å¥½åœ¨é‚Šç•Œä¸Š</p>
<p>å¦‚å³åœ–ï¼Œå°¤å…¶æ˜¯é è™•çš„å°ç‰‡ä¸‰è§’å½¢ï¼Œæ‰€ä½”æœ‰çš„åƒç´ å€åŸŸéå¸¸å°‘ï¼Œæ•´é¢ä¸‰è§’å½¢ç¬¦åˆoffsetç¯„åœçš„Pé»åªæœ‰äº”å€‹ï¼Œé‚£å°±æœƒå°è‡´é è™•ç‰©é«”çœ‹èµ·ä¾†åªå‰©ä¸‹å¹¾å€‹é»è€Œå·²</p>
<p>å¦‚åœ–ä¸­çš„ç¶ é»ï¼Œè¦æ˜¯åªåœ¨é‚Šä¸Šæ‰ç¹ªè£½çš„è©±ï¼Œç·šæœƒæ–·æ–·çºŒçºŒçš„ï¼Œè€Œconst offseté€™å€‹æ–¹æ³•ï¼Œå°±æ˜¯é€éoffsetä¾†ä¿®æ­£é€™æ®µèª¤å·®ï¼Œåªè¦ä»»ä¸€å€‹é‡å¿ƒåº§æ¨™(é¢ç©æ¯”)<code>alpha, beta, gamma &lt;= offset</code>ï¼Œå°±èªå®šé€™å€‹Pé»åœ¨ä¸‰è§’å½¢çš„é‚Šç•Œä¸Šï¼Œç¹ªè£½ç·šæ®µé¡è‰²ï¼Œ</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="k">struct</span> <span class="nc">LineShader</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IShader</span> <span class="p">{</span>
    <span class="c1">// Vertex Shader: è™•ç†åº§æ¨™æŠ•å½±è½‰æ›
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="n">Vec4f</span> <span class="nf">vertex</span><span class="p">(</span><span class="kt">int</span> <span class="n">iface</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nthvert</span><span class="p">)</span> <span class="p">...</span>

    <span class="c1">// Pixel Shader: è™•ç†Pé»çš„åƒç´ é¡è‰², Vec3f barç‚ºé‡å¿ƒåº§æ¨™alpha, beta, gamma
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="kt">bool</span> <span class="n">fragment</span><span class="p">(</span><span class="n">Vec3f</span> <span class="n">bar</span><span class="p">,</span> <span class="n">UI32</span><span class="o">&amp;</span> <span class="n">color</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">float</span> <span class="n">offset</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span> <span class="c1">//å®¹è¨±çš„èª¤å·®ç¯„åœ
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">offset</span> <span class="o">||</span> <span class="n">bar</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">offset</span> <span class="o">||</span> <span class="n">bar</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">offset</span><span class="p">)</span> 
            <span class="n">color</span> <span class="o">=</span> <span class="mh">0x000000</span><span class="p">;</span> <span class="c1">// é»‘è‰²ç·šæ¡†
</span><span class="c1"></span>        <span class="k">else</span> 
            <span class="n">color</span> <span class="o">=</span> <span class="mh">0xFFFFFF</span><span class="p">;</span> <span class="c1">// ç‰©é«”åŸæœ¬çš„é¡è‰²,é€™è£¡ç”¨ç™½è‰²ä»£æ›¿
</span><span class="c1"></span>        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><p>ä¸Šé¢é€™æ®µShader codeæœƒåŸ·è¡Œå‡ºé€™å€‹çµæœ:
<figure style="flex-grow: 203; flex-basis: 488px">
		<a href="/archives/wireframe-display/img/ps/%E7%9B%B4%E6%8E%A5%E9%87%8D%E5%BF%83%E5%BA%A7%E6%A8%99%E5%88%A4%E6%96%B7_range%E5%B0%8F%E6%96%BC0.02%E8%88%870%E6%AF%94%E8%BC%83.png" data-size="1244x611"><img src="/archives/wireframe-display/img/ps/%E7%9B%B4%E6%8E%A5%E9%87%8D%E5%BF%83%E5%BA%A7%E6%A8%99%E5%88%A4%E6%96%B7_range%E5%B0%8F%E6%96%BC0.02%E8%88%870%E6%AF%94%E8%BC%83.png"
				
				width="1244"
				height="611"
				loading="lazy"
				alt="(a): offsetç‚º0, åªæœ‰alpha,beta,gammaä»»ä¸€å€‹ç‚º0æ™‚ç¹ªè£½, å¾ˆå¤šç·šæ®µæ ¹æœ¬æ²’è¾¦æ³•é¡¯ç¤º, (b) offsetç‚º0.01, (c): offsetç‚º0.02">
		</a>
		
		<figcaption>(a): offsetç‚º0, åªæœ‰alpha,beta,gammaä»»ä¸€å€‹ç‚º0æ™‚ç¹ªè£½, å¾ˆå¤šç·šæ®µæ ¹æœ¬æ²’è¾¦æ³•é¡¯ç¤º, (b) offsetç‚º0.01, (c): offsetç‚º0.02</figcaption>
		
	</figure></p>
<p>å¯ä»¥çœ‹åˆ°ç¢ºå¯¦æœ‰ç·šæ¡†äº†ï¼Œä½†æœ‰äº›å€åŸŸé€éoffseté‚„æ˜¯ç„¡æ³•ä¿®æ­£é€™äº›èª¤å·®ï¼Œæ‰€ä»¥å°±æœƒå°è‡´é‚Šæ¡†ä¸é€£çºŒï¼Œè€Œé€™ç¹ªè£½æ–¹æ³•å°±æ˜¯å°é¢åœ–çš„(a)</p>
<p>è€Œä¸”é€™ç¨®ç¹ªè£½æ³•æœ‰å€‹å¾ˆæ˜é¡¯çš„ç¼ºé»ï¼Œå°±æ˜¯ç·šæ®µå¯¬åº¦ä¸ä¸€è‡´ï¼Œé€éé¢ç©æ¯”ä¾†åˆ¤æ–·æ˜¯å¦åœ¨é‚Šä¸Šï¼Œå¾ˆå®¹æ˜“è¢«é‚Šé•·çš„æ¯”ä¾‹æ‰€å½±éŸ¿ï¼Œå°è‡´æ™‚ç²—æ™‚ç´°(b)ï¼Œæœ‰äº›ç·šæ®µç”šè‡³æ²’æœ‰ç¹ªè£½</p>
<h3 id="æœ€çŸ­é‚Šè·æ³•-shortest-distance-to-the-edge">æœ€çŸ­é‚Šè·æ³• shortest distance to the edge</h3>
<p>é€™ç¨±å‘¼åªæ˜¯å–®ç´”ç›´ç¿»ï¼Œé€™é‚„åªæ˜¯ä¸€å€‹å°æ’‡æ­¥ï¼Œæ‡‰è©²æ²’æœ‰ç‰¹å®šçš„åå­—</p>
<p><figure style="flex-grow: 134; flex-basis: 322px">
		<a href="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D1-1.png" data-size="496x369"><img src="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D1-1.png"
				
				width="496"
				height="369"
				loading="lazy"
				alt="(a)é¢ç©å€åŸŸ">
		</a>
		
		<figcaption>(a)é¢ç©å€åŸŸ</figcaption>
		
	</figure>
<figure style="flex-grow: 277; flex-basis: 666px">
		<a href="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D2.png" data-size="644x232"><img src="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D2.png"
				
				width="644"
				height="232"
				loading="lazy"
				alt="(b)Solid Wireframe, NVIDIA Whitepaper, p10">
		</a>
		
		<figcaption>(b)Solid Wireframe, NVIDIA Whitepaper, p10</figcaption>
		
	</figure></p>
<p>ç‚ºè§£æ±ºå‰›å‰›const offsetåšåº¦ä¸ä¸€è‡´çš„å•é¡Œï¼Œè¡ä¼¸çš„æƒ³æ³•å°±æ˜¯å…ˆæ‰¾å‡ºPé»é›¢é‚Šç•Œæœ€è¿‘çš„ã€Œåƒç´ è·é›¢dã€æ˜¯å¤šå°‘(è¡¨ç¤ºä½œç”¨çš„å€åŸŸæ˜¯Screen Space)ï¼Œå†é€éä¸€å€‹widthç•¶ä½œé–¥å€¼ï¼Œç•¶<code>d &lt; width</code>çš„æ™‚å€™æ‰ç¹ªè£½ç·šæ¢ï¼Œé€™æ¨£å°±å¯ä»¥ç¢ºä¿é‚Šç•Œç¹ªè£½çš„å¯¬åº¦ç‚ºwidth</p>
<p>è€Œæ‰¾å‡ºd1, d2, d3çš„æ–¹æ³•ä¹Ÿå¾ˆå®¹æ˜“ï¼Œæ­¥é©Ÿæ˜¯:</p>
<ol>
<li>é‚Šå‘é‡å¤–ç©å¾—åˆ°ä¸‰è§’å½¢é¢ç©ï¼Œ$Area = \bigtriangleup ABC = \frac{1}{2}(\overrightarrow{AB} \times \overrightarrow{AC})$</li>
<li>é‡å¿ƒåº§æ¨™å°±æ˜¯é¢ç©æ¯”ï¼Œå¾—å‡º$\bigtriangleup A = Area \times \alpha,~~ \bigtriangleup B = Area \times \beta ,~~ \bigtriangleup C = Area \times \gamma $</li>
<li>æœ‰äº†ä¸‰å¡Šå€åŸŸçš„é¢ç©å¾Œå°±èƒ½ç›´æ¥æ ¹æ“šé¢ç©å…¬å¼$h= 2(\frac{Area}{L}) $, å¾—å‡ºd1, d2, d3</li>
<li>å†å–æœ€å°å€¼å³å¯å¾—åˆ°<code>d = min[d1, d2, d3]</code></li>
</ol>
<p>æœ‰äº†dä¹‹å¾Œå°±èƒ½å°é€™å€‹æœ€çŸ­è·é›¢é€²è¡Œåˆ¤æ–·ï¼Œå¦‚æœå°æ–¼å¯¬åº¦å°±ç¹ªè£½ç·šæ®µé¡è‰²ï¼Œå¦‚åœ–(b)</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="k">struct</span> <span class="nc">WireframeShader</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IShader</span> <span class="p">{</span>
    <span class="n">Vec2f</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="n">Vec3f</span> <span class="n">wire_color</span> <span class="o">=</span> <span class="n">Vec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// é»‘è‰²ç·šæ¡†
</span><span class="c1"></span>    <span class="n">Vec3f</span> <span class="n">fill_color</span> <span class="o">=</span> <span class="n">Vec3f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// ç‰©é«”é¡è‰², é€™è£¡å…ˆç”¨ç™½è‰²ä»£æ›¿ 
</span><span class="c1"></span>    <span class="kt">float</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span> <span class="c1">// ç·šæ¡†å¯¬åº¦
</span><span class="c1"></span>    <span class="c1">// Vertex Shader
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="n">Vec4f</span> <span class="nf">vertex</span><span class="p">(</span><span class="kt">int</span> <span class="n">iface</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nthvert</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...è™•ç†åº§æ¨™è½‰æ›çœç•¥
</span><span class="c1"></span>        <span class="c1">// ç´€éŒ„é€™ç‰‡ä¸‰è§’å½¢æŠ•å½±å¾Œçš„ä¸‰å€‹é ‚é»,
</span><span class="c1"></span>        <span class="c1">// ä½œç”¨çš„åœ°æ–¹æ˜¯å…‰æŸµæ™‚çš„è¢å¹•åº§æ¨™ç³», Clip Space /w-&gt;NDC-&gt;Screen Space
</span><span class="c1"></span>        <span class="n">screen_coords</span><span class="p">[</span><span class="n">nthvert</span><span class="p">]</span> <span class="o">=</span> <span class="n">proj</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pos</span> <span class="o">/</span> <span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
        <span class="k">return</span> <span class="n">pos</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// Pixel Shader: æœ€çŸ­é‚Šè·æ³•ç·šæ®µç¹ªè£½
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">fragment</span><span class="p">(</span><span class="n">Vec3f</span> <span class="n">bar</span><span class="p">,</span> <span class="n">UI32</span><span class="o">&amp;</span> <span class="n">color</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">getMinDistToEdge</span><span class="p">(</span><span class="n">bar</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">width</span><span class="p">)</span> <span class="n">c</span> <span class="o">=</span> <span class="n">wire_color</span><span class="p">;</span>
        <span class="k">else</span> <span class="n">c</span> <span class="o">=</span> <span class="n">fill_color</span><span class="p">;</span>
        
        <span class="n">color</span> <span class="o">=</span> <span class="n">rgb2hex</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">);</span><span class="c1">// 0~1è½‰æ›æˆ0~255
</span><span class="c1"></span>        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">float</span> <span class="nf">getMinDistToEdge</span><span class="p">(</span><span class="n">Vec3f</span> <span class="n">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">float</span> <span class="n">dist</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
        <span class="k">auto</span> <span class="n">getLength</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">Vec2f</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span><span class="p">);</span> <span class="p">};</span>
        <span class="c1">// é€éä¸‰å€‹é ‚é»èˆ‡é‡å¿ƒåº§æ¨™å›æ¨æƒæç·špé»ï¼Œproj&lt;2&gt;:å°‡Vec3æ¨æ£„zå€¼è½‰æ›ç‚ºVec2
</span><span class="c1"></span>        <span class="c1">// P = A*alpha + B*beta + C*gamma
</span><span class="c1"></span>        <span class="n">Vec2f</span> <span class="n">p</span> <span class="o">=</span> <span class="n">proj</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span>
            <span class="n">screen_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> 
            <span class="n">screen_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> 
            <span class="n">screen_coords</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>

        <span class="n">Vec2f</span> <span class="n">v0</span> <span class="o">=</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="n">Vec2f</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="n">Vec2f</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="c1">// v1,v2å¤–ç©å–å¾—ä¸‰è§’å½¢é¢ç©ï¼ŒåŸæœ¬è¦åœ¨ä¹˜ä¸Šçš„1/2ï¼Œä¸éå¾ŒçºŒçš„é‹ç®—æœƒæ¶ˆæ‰
</span><span class="c1"></span>        <span class="kt">float</span> <span class="n">area</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">v2</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">v1</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">v2</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>

        <span class="c1">// area*alpha:å› ç‚ºé‡å¿ƒåº§æ¨™å³ç‚ºç‚ºa,b,cä¸‰å€åŸŸä½”ç¸½é«”çš„é¢ç©æ¯”å€¼
</span><span class="c1"></span>        <span class="c1">// å¯ä»¥ç›´æ¥å°‡æ•´é«”é¢ç©(Area)ä¹˜ä¸Ša,b,cé‡å¿ƒåº§æ¨™ä¾†å–å¾—å„å¡Šå€åŸŸé¢ç©
</span><span class="c1"></span>        <span class="c1">// å†é€èˆ‡ä¸‰å¡Šé¢ç©å–é«˜ï¼Œå¾—å‡ºpé»èˆ‡å„é‚Šç•Œçš„è·é›¢dç‚º
</span><span class="c1"></span>        <span class="n">dist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">area</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">getLength</span><span class="p">(</span><span class="n">v0</span><span class="p">);</span>
        <span class="n">dist</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">area</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">getLength</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
        <span class="n">dist</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">area</span> <span class="o">*</span> <span class="n">bar</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">getLength</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">min</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">min</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">dist</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div><p>é€™æ®µShader codeæœƒåŸ·è¡Œå‡ºé€™æ¨£çš„çµæœ:
<figure style="flex-grow: 156; flex-basis: 376px">
		<a href="/archives/wireframe-display/img/ps/teapot_%E9%82%8A%E6%9C%80%E7%9F%AD_%E7%84%A1%E5%8F%8D%E9%8B%B8%E9%BD%92_d%E5%B0%8F%E6%96%BC0.5_v3.png" data-size="1011x645"><img src="/archives/wireframe-display/img/ps/teapot_%E9%82%8A%E6%9C%80%E7%9F%AD_%E7%84%A1%E5%8F%8D%E9%8B%B8%E9%BD%92_d%E5%B0%8F%E6%96%BC0.5_v3.png"
				
				width="1011"
				height="645"
				loading="lazy"
				alt="(a) æœ€çŸ­é‚Šè·æ³•, width=0.5">
		</a>
		
		<figcaption>(a) æœ€çŸ­é‚Šè·æ³•, width=0.5</figcaption>
		
	</figure>
<figure style="flex-grow: 259; flex-basis: 623px">
		<a href="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D3.png" data-size="720x277"><img src="/archives/wireframe-display/img/%E4%BD%BF%E7%94%A8%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D3.png"
				
				width="720"
				height="277"
				loading="lazy"
				alt="(b) å·¦:width = 10px, å³:width = 2px">
		</a>
		
		<figcaption>(b) å·¦:width = 10px, å³:width = 2px</figcaption>
		
	</figure></p>
<p>åœ–(a)é€™å¼µå°±æ˜¯å°é¢åœ–çš„(c)éƒ¨åˆ†ï¼Œç¨å¾®æ›å€‹é¡è‰²ï¼Œå¯ä»¥æ˜é¡¯çœ‹åˆ°ï¼Œé€™æ¨£çš„ç·šæ¡†å·²ç¶“è¶³å¤ ä½¿ç”¨äº†ï¼Œåœ–(b)ä¹Ÿèƒ½ä»»æ„æ§åˆ¶ç·šæ¡†å¯¬åº¦èˆ‡è‘—è‰²æ¨£å¼)ï¼Œä½†æ˜¯ç·šæ¡†çœ‹èµ·ä¾†é‚„æ˜¯æœ‰ä¸€é»ç²—ç³™ï¼Œæ‰€ä»¥æ¥è‘—æœ€å¾Œä¸€æ­¥è™•ç†ï¼Œåé‹¸é½’</p>
<h3 id="åé‹¸é½’è™•ç†antialiased-wireframe-drawing">åé‹¸é½’è™•ç†Antialiased Wireframe Drawing</h3>
<p>åœ–ç‰‡å¼•ç”¨è‡ª<a class="link" href="https://developer.download.nvidia.com/SDK/10/direct3d/Source/SolidWireframe/Doc/SolidWireframe.pdf"  target="_blank" rel="noopener"
    >Solid Wireframe, NVIDIA Whitepaper, p10, p11</a>
<figure style="flex-grow: 164; flex-basis: 394px">
		<a href="/archives/wireframe-display/img/%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D%E6%B3%95%E7%9A%84%E5%8F%8D%E9%8B%B8%E9%BD%921.png" data-size="536x326"><img src="/archives/wireframe-display/img/%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D%E6%B3%95%E7%9A%84%E5%8F%8D%E9%8B%B8%E9%BD%921.png"
				
				width="536"
				height="326"
				loading="lazy"
				alt="(a) smoothing function">
		</a>
		
		<figcaption>(a) smoothing function</figcaption>
		
	</figure><figure style="flex-grow: 306; flex-basis: 736px">
		<a href="/archives/wireframe-display/img/%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D%E6%B3%95%E7%9A%84%E5%8F%8D%E9%8B%B8%E9%BD%922.png" data-size="801x261"><img src="/archives/wireframe-display/img/%E6%9C%80%E7%9F%AD%E9%82%8A%E8%B7%9D%E6%B3%95%E7%9A%84%E5%8F%8D%E9%8B%B8%E9%BD%922.png"
				
				width="801"
				height="261"
				loading="lazy"
				alt="(b) ä½œç”¨åŸç†çš„ç¤ºæ„åœ–">
		</a>
		
		<figcaption>(b) ä½œç”¨åŸç†çš„ç¤ºæ„åœ–</figcaption>
		
	</figure></p>
<p>æ¥çºŒå‰›å‰›çš„æœ€çŸ­é‚Šè·æ³•ï¼Œå¯é€éåœ–(a)çš„é€™å€‹å¹³æ»‘å‡½æ•¸ï¼Œå¥—ç”¨åœ¨é‚Šç•Œè™•ï¼Œè®“é‚Šç•Œå¤–çš„é¡è‰²éæ¸›ï¼Œä¸¦é€²è¡ŒAlpha blendingå°‡ç·šæ¡†èˆ‡ç‰©é«”æŒ‰ç…§è¡°æ¸›åº¦æ··è‰²ï¼Œå³å¯å¾—åˆ°åé‹¸é½’çš„æ•ˆæœ</p>
<div class="highlight"><pre class="chroma"><code class="language-C++" data-lang="C++"><span class="k">struct</span> <span class="nc">WireframeShader</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IShader</span> <span class="p">{</span>
    <span class="n">Vec2f</span> <span class="n">screen_coords</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="n">Vec3f</span> <span class="n">wire_color</span> <span class="o">=</span> <span class="n">Vec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// é»‘è‰²ç·šæ¡†
</span><span class="c1"></span>    <span class="n">Vec3f</span> <span class="n">fill_color</span> <span class="o">=</span> <span class="n">Vec3f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// ç‰©é«”é¡è‰², é€™è£¡å…ˆç”¨ç™½è‰²ä»£æ›¿ 
</span><span class="c1"></span>    <span class="kt">float</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// ç·šæ¡†å¯¬åº¦
</span><span class="c1"></span>    <span class="c1">// Vertex Shader åŒä¸Š
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="n">Vec4f</span> <span class="nf">vertex</span><span class="p">(</span><span class="kt">int</span> <span class="n">iface</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nthvert</span><span class="p">)...</span>

    <span class="c1">// Pixel Shader: åé‹¸é½’çš„æœ€çŸ­é‚Šè·æ³•ç¹ªè£½
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="kt">bool</span> <span class="n">fragment</span><span class="p">(</span><span class="n">Vec3f</span> <span class="n">bar</span><span class="p">,</span> <span class="n">UI32</span><span class="o">&amp;</span> <span class="n">color</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">float</span> <span class="n">d</span> <span class="o">=</span> <span class="n">getMinDistToEdge</span><span class="p">(</span><span class="n">bar</span><span class="p">);</span>
        <span class="c1">// å°ç·šæ¡†å¯¬åº¦çš„+/-1é‚Šç•Œé€²è¡Œå¹³æ»‘
</span><span class="c1"></span>        <span class="c1">// å¸¶å…¥æœ€çŸ­è·é›¢då¾—å‡ºwidthé‚Šç•Œæ‰€å°æ‡‰çš„ç·šæ¡†é¡è‰²çš„å¼·åº¦ I
</span><span class="c1"></span>        <span class="c1">// å¦‚æœd&lt;=width-1ï¼Œé‚£Iå°±ä¸€å®šæ˜¯1
</span><span class="c1"></span>        <span class="kt">float</span> <span class="n">I</span> <span class="o">=</span> <span class="n">smoothstep</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">width</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
        <span class="c1">// é€²è¡ŒAlpha blendingï¼Œå°‡ç·šæ¡†èˆ‡ç‰©é«”é¡è‰²ç…§æ¯”ä¾‹æ··åˆ
</span><span class="c1"></span>        <span class="n">Vec3f</span> <span class="n">c</span> <span class="o">=</span> <span class="n">wire_color</span> <span class="o">*</span> <span class="n">I</span> <span class="o">+</span> <span class="n">fill_color</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">I</span><span class="p">);</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">rgb2hex</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">float</span> <span class="nf">smoothstep</span><span class="p">(</span><span class="kt">float</span> <span class="n">edge0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">edge1</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Scale, bias and saturate x to 0..2 range
</span><span class="c1"></span>        <span class="n">x</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">edge0</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">edge1</span> <span class="o">-</span> <span class="n">edge0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">);</span>
        <span class="k">return</span>  <span class="n">exp2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">float</span> <span class="nf">clamp</span><span class="p">(</span><span class="kt">double</span> <span class="n">d</span><span class="p">,</span> <span class="kt">double</span> <span class="n">min</span><span class="p">,</span> <span class="kt">double</span> <span class="n">max</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">const</span> <span class="kt">double</span> <span class="n">t</span> <span class="o">=</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">min</span> <span class="o">?</span> <span class="nl">min</span> <span class="p">:</span> <span class="n">d</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="n">max</span> <span class="o">?</span> <span class="nl">max</span> <span class="p">:</span> <span class="n">t</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">float</span> <span class="nf">getMinDistToEdge</span><span class="p">(</span><span class="n">Vec3f</span> <span class="n">bar</span><span class="p">)...</span>
<span class="p">};</span>
</code></pre></div><p>åŸ·è¡Œé€™æ®µShader codeå¾Œï¼Œæœ€çµ‚å¾—åˆ°å°é¢åœ–ä¸­é–“(b)çš„æ¼‚äº®ç·šæ¡†
<figure style="flex-grow: 163; flex-basis: 392px">
		<a href="/archives/wireframe-display/img/ps/teapot_%E9%82%8A%E6%9C%80%E7%9F%AD_%E5%8F%8D%E9%8B%B8%E9%BD%92%E9%BB%91_v2.png" data-size="983x601"><img src="/archives/wireframe-display/img/ps/teapot_%E9%82%8A%E6%9C%80%E7%9F%AD_%E5%8F%8D%E9%8B%B8%E9%BD%92%E9%BB%91_v2.png"
				
				width="983"
				height="601"
				loading="lazy"
				alt="(a) width = 2, ç¹ªè£½çš„åé‹¸é½’ç·šæ¡†">
		</a>
		
		<figcaption>(a) width = 2, ç¹ªè£½çš„åé‹¸é½’ç·šæ¡†</figcaption>
		
	</figure></p>
<br>
<h2 id="æ‡‰ç”¨èˆ‡è¨è«–">æ‡‰ç”¨èˆ‡è¨è«–</h2>
<p>å‰é¢è¬›å®ŒåŸç†å¾Œï¼Œç°¡å–®çš„ä»‹ç´¹ä¸€äº›è¡ä¼¸ç”¨æ³•</p>
<h3 id="è™›ç·šæ¨£å¼">è™›ç·šæ¨£å¼</h3>
<p>å› ç‚ºèƒ½æ±‚å‡ºåœ¨æœ€çŸ­é‚Šè·ï¼Œé‚£éº¼å°±å¯ä»¥å°ç‰©é«”é‚Šç•Œä½ç½®å‹•æ…‹çµ¦å®šé–¥å€¼ï¼Œæ­é…å…¶ä»–æ­é…å…¶ä»–å‡½æ•¸åšå‡ºé¡ä¼¼è™›ç·šã€åœ–æ¡ˆï¼Œæˆ–é€éZå€¼ä¾†ç¹ªè£½èƒŒé¢é€æ˜ç­‰ç·šæ¡†æ•ˆæœ</p>
<p>å®Œæ•´è™›ç·šæ¨£å¼çš„æ•ˆæœå¯ä»¥åƒè€ƒé€™å€‹<a class="link" href="https://mattdesl.github.io/webgl-wireframes/app/"  target="_blank" rel="noopener"
    >æ¼‚äº®çš„ç·šä¸Šç¯„ä¾‹</a></p>
<p><figure style="flex-grow: 212; flex-basis: 509px">
		<a href="/archives/wireframe-display/img/%E8%99%9B%E7%B7%9A%E5%87%BD%E6%95%B8.png" data-size="974x459"><img src="/archives/wireframe-display/img/%E8%99%9B%E7%B7%9A%E5%87%BD%E6%95%B8.png"
				
				width="974"
				height="459"
				loading="lazy"
				alt="é–¥å€¼å‡½æ•¸åœ–, åƒè€ƒ\[4\]. ">
		</a>
		
		<figcaption>é–¥å€¼å‡½æ•¸åœ–, åƒè€ƒ[4].</figcaption>
		
	</figure><figure style="flex-grow: 241; flex-basis: 580px">
		<a href="/archives/wireframe-display/img/dash%E7%B7%9A%E6%A1%86%E7%B9%AA%E8%A3%BD.gif" data-size="600x248"><img src="/archives/wireframe-display/img/dash%E7%B7%9A%E6%A1%86%E7%B9%AA%E8%A3%BD.gif"
				
				width="600"
				height="248"
				loading="lazy"
				alt="ç¹ªè£½æ•ˆæœ">
		</a>
		
		<figcaption>ç¹ªè£½æ•ˆæœ</figcaption>
		
	</figure></p>
<h3 id="å¤–å´åé‹¸é½’">å¤–å´åé‹¸é½’</h3>
<p>è€Œæ–‡ç« ä¸€é–‹å§‹çš„å•é¡Œç« ç¯€æœ‰æåˆ°éï¼Œé€™ç¨®æ–¹æ³•ç¹ªè£½çš„åé‹¸é½’åªæœ‰å…§å´ï¼Œå¦‚åœ–(a)</p>
<p><figure style="flex-grow: 123; flex-basis: 296px">
		<a href="/archives/wireframe-display/img/ps/%E5%A4%96%E5%81%B4%E6%B2%92%E6%9C%89%E5%8F%8D%E9%8B%B8%E9%BD%922.png" data-size="611x494"><img src="/archives/wireframe-display/img/ps/%E5%A4%96%E5%81%B4%E6%B2%92%E6%9C%89%E5%8F%8D%E9%8B%B8%E9%BD%922.png"
				
				width="611"
				height="494"
				loading="lazy"
				alt="(a) æ”¾å¤§ç·šæ¡†å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰å…§å´æœ‰åé‹¸é½’çš„æ•ˆæœ">
		</a>
		
		<figcaption>(a) æ”¾å¤§ç·šæ¡†å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰å…§å´æœ‰åé‹¸é½’çš„æ•ˆæœ</figcaption>
		
	</figure>
<figure style="flex-grow: 162; flex-basis: 391px">
		<a href="/archives/wireframe-display/img/%E5%A4%96%E9%83%A8%E5%8F%8D%E9%8B%B8%E9%BD%92%E7%9A%84%E8%A7%A3%E6%B3%95.png" data-size="603x370"><img src="/archives/wireframe-display/img/%E5%A4%96%E9%83%A8%E5%8F%8D%E9%8B%B8%E9%BD%92%E7%9A%84%E8%A7%A3%E6%B3%95.png"
				
				width="603"
				height="370"
				loading="lazy"
				alt="(b) å°‡ç·šæ®µå‘å…§åç§»ï¼Œé¨°å‡ºå¤–å´åé‹¸é½’çš„ç©ºé–“">
		</a>
		
		<figcaption>(b) å°‡ç·šæ®µå‘å…§åç§»ï¼Œé¨°å‡ºå¤–å´åé‹¸é½’çš„ç©ºé–“</figcaption>
		
	</figure></p>
<p>æœ‰ä¸€ç¨®è§£æ±ºæ–¹æ³•ï¼Œå°±æ˜¯è®“ç·šæ¡†å¾€ä¸‰è§’å½¢å…§éƒ¨åç§»ä¸€é»ï¼Œé€™æ¨£é›–ç„¶æœƒçŠ§ç‰²ä¸€é»ç‰©é«”çš„è¼ªå»“å¤§å°ï¼Œä½†æ‡‰è©²æ˜¯ç°¡å–®æœ‰æ•ˆçš„è™•ç†æ–¹å¼ï¼Œåªä¸éä¹Ÿä¸æ˜¯æ­£ç¢ºçš„æ–¹å¼ï¼Œå› ç‚ºä¸æ˜¯è·ŸèƒŒæ™¯è‰²åšAlpha blending</p>
<p>è€Œ<a class="link" href="https://backend.orbit.dtu.dk/ws/portalfiles/portal/3735323/wire-sccg.pdf"  target="_blank" rel="noopener"
    >Two Methods for Antialiased Wireframe Drawing with Hidden Line Removal</a>çš„æ–‡ç« ä¸­ï¼Œæœ‰æå‡ºä¸€ç¨®æ–¹æ³•å«åšID Bufferï¼Œé›–ç„¶æœƒçŠ§ç‰²ä¸€é»æ•ˆèƒ½ï¼Œä½†èƒ½æœ‰æ•ˆçš„è§£æ±ºå¤–å´åé‹¸é½’çš„å•é¡Œï¼Œæœ‰èˆˆè¶£å¯ä»¥çœ‹çœ‹</p>
<h3 id="å„ªç¼ºé»">å„ªç¼ºé»</h3>
<p>é€™å€‹Single pass renderæ–¹æ³•ï¼Œæœ‰å¹¾å€‹å„ªç¼ºé»</p>
<ol>
<li>èƒ½èƒŒéƒ¨æ¶ˆé™¤ï¼Œä¸”ç¹ªè£½çš„æ·±åº¦æº–ç¢º</li>
<li>å¯é€éæ’å€¼ã€å‡½æ•¸ç­‰æ–¹å¼æ›´æ”¹ç·šæ®µæ¨£å¼ï¼Œå¦‚å½©è‰²ã€è™›ç·šç­‰</li>
<li>åªéœ€è¦ä¸€æ¬¡passï¼Œé€Ÿåº¦è¼ƒå¿«</li>
</ol>
<p>ç¼ºé»ç›®å‰è¦ºå¾—å°±æ˜¯åªæœ‰å…§å´èƒ½åé‹¸é½’ï¼Œåœ¨æ¸²æŸ“å¤§ç‰‡ä¸‰è§’å½¢çš„æ¨¡å‹ä¸­æœƒæœ‰æ¯”è¼ƒå¤§çš„å½±éŸ¿</p>
<p>è€Œ<a class="link" href="https://developer.download.nvidia.com/SDK/10/direct3d/Source/SolidWireframe/Doc/SolidWireframe.pdf"  target="_blank" rel="noopener"
    >Solid Wireframe, NVIDIA Whitepaper</a>ä¸­æœ‰æåˆ°èªªåœ¨é ‚é»èˆ‡è§€å¯Ÿé»éå¸¸æ¥è¿‘ï¼Œæˆ–æ˜¯è£åˆ‡è™•ç†çš„æƒ…æ³ï¼Œæœƒæœ‰ä¸€äº›å•é¡Œï¼Œéœ€è¦åšç‰¹åˆ¥çš„è™•ç†</p>
<br>
<h2 id="çµèª">çµèª</h2>
<p>ç·šæ¡†ç¹ªè£½ä¹Ÿå»£æ³›çš„æ‡‰ç”¨åœ¨ç‰¹æ®Šé¢¨æ ¼æ¸²æŸ“ï¼Œå¦‚å¡é€šè‘—è‰²ã€ç¹ªæœ¬é¢¨æ ¼ç­‰ç­‰çš„ï¼Œé€™é¡è‘—è‰²é¢¨æ ¼è¢«ç¨±ç‚ºNon-photorealistic Rendering</p>
<p><figure style="flex-grow: 245; flex-basis: 590px">
		<a href="/archives/wireframe-display/img/PlanarMap.png" data-size="740x301"><img src="/archives/wireframe-display/img/PlanarMap.png"
				
				width="740"
				height="301"
				loading="lazy"
				alt="å¼•ç”¨,Line Drawings from 3D Models">
		</a>
		
		<figcaption>å¼•ç”¨,Line Drawings from 3D Models</figcaption>
		
	</figure>
<figure style="flex-grow: 225; flex-basis: 542px">
		<a href="/archives/wireframe-display/img/%E5%8D%A1%E9%80%9A%E5%A4%96%E6%A1%86%E8%91%97%E8%89%B2.png" data-size="1744x772"><img src="/archives/wireframe-display/img/%E5%8D%A1%E9%80%9A%E5%A4%96%E6%A1%86%E8%91%97%E8%89%B2.png"
				
				width="1744"
				height="772"
				loading="lazy"
				alt="å¼•ç”¨,å¡é€šå¤–æé‚Šæ·±å…¥ç ”ç©¶èˆ‡Unityæ–°ç®¡ç·šåŠŸèƒ½ä½¿ç”¨åˆ†äº«">
		</a>
		
		<figcaption>å¼•ç”¨,å¡é€šå¤–æé‚Šæ·±å…¥ç ”ç©¶èˆ‡Unityæ–°ç®¡ç·šåŠŸèƒ½ä½¿ç”¨åˆ†äº«</figcaption>
		
	</figure></p>
<p>è¡ä¼¸é–±è®€ï¼Œåƒè€ƒè³‡æ–™ä¸­çš„é€™ç¯‡<a class="link" href="https://arxiv.org/abs/1810.01175"  target="_blank" rel="noopener"
    >Line Drawings from 3D Models</a>ï¼Œè£¡é¢æä¾›äº†éå¸¸å¤šç¨®ç·šæ¡†ç¹ªè£½çš„æ–¹æ³•ï¼ŒåŸæœ¬ç¹ªè£½ç·šæ¡†åªæ˜¯ç‚ºäº†Debugï¼Œä½†æŸ¥äº†å¾ˆå¤šè³‡æ–™å¾Œæ‰ç™¼ç¾ï¼Œç·šæ¡†çš„ç¹ªè£½ä¹Ÿæ˜¯ä¸€é–€å­¸å•</p>
<br>
<p>å¤§è‡´å°±æ˜¯é€™æ¨£ï¼Œå˜—è©¦æ•˜è¿°ä¸¦è§£æ±ºä¸€å€‹å•é¡Œçš„æ–‡ç« ï¼Œå¸Œæœ›æœ‰è§£é‡‹çš„æ·ºé¡¯æ˜“æ‡‚</p>
<p>Githubå°ˆæ¡ˆ: <a class="link" href="https://github.com/beadx6ggwp/RenderLearningPlan"  target="_blank" rel="noopener"
    >https://github.com/beadx6ggwp/RenderLearningPlan</a></p>
<p>æ–‡ç« ä¸­æ¸²æŸ“çµæœéƒ½ä½¿ç”¨é€™å€‹ç‰ˆæœ¬ç¹ªè£½: <a class="link" href="https://github.com/beadx6ggwp/RenderLearningPlan/tree/main/code/12.2%20Lesson%206%20Shaders%28wireframe%20render%20%26%20vertax-obj%29"  target="_blank" rel="noopener"
    >12.2 Lesson 6 Shaders(wireframe render &amp; vertax-obj)</a></p>
<br>
<h2 id="reference">Reference</h2>
<ol>
<li><a class="link" href="https://developer.download.nvidia.com/SDK/10/direct3d/Source/SolidWireframe/Doc/SolidWireframe.pdf"  target="_blank" rel="noopener"
    >Solid Wireframe, NVIDIA Whitepaper 2007</a></li>
<li><a class="link" href="https://arxiv.org/abs/1810.01175"  target="_blank" rel="noopener"
    >Line Drawings from 3D Models, Foundations and Trends in Computer Graphics and Vision 2019</a></li>
<li><a class="link" href="http://www2.imm.dtu.dk/pubdb/edoc/imm4884.pdf"  target="_blank" rel="noopener"
    >Single-Pass Wireframe Rendering, Siggraph 2006</a></li>
<li><a class="link" href="https://backend.orbit.dtu.dk/ws/portalfiles/portal/3735323/wire-sccg.pdf"  target="_blank" rel="noopener"
    >Two Methods for Antialiased Wireframe Drawing with Hidden Line Removal, SCCG &lsquo;08</a></li>
<li><a class="link" href="https://mattdesl.github.io/webgl-wireframes/app/"  target="_blank" rel="noopener"
    >webgl-wireframes, github</a></li>
<li><a class="link" href="https://github.com/rreusser/glsl-solid-wireframe"  target="_blank" rel="noopener"
    >glsl-solid-wireframe, github</a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/43139658"  target="_blank" rel="noopener"
    >WebGL å•é€šé“wireframeæ¸²æŸ“, çŸ¥ä¹</a></li>
<li><a class="link" href="https://xiaoiver.github.io/coding/2018/10/22/Wireframe-%E7%9A%84%E5%AE%9E%E7%8E%B0.html"  target="_blank" rel="noopener"
    >Wireframe-çš„å®ç°, çŸ¥ä¹</a></li>
<li><a class="link" href="https://tchayen.github.io/posts/wireframes-with-barycentric-coordinates"  target="_blank" rel="noopener"
    >Wireframes with barycentric coordinates, blog</a></li>
<li><a class="link" href="https://catlikecoding.com/unity/tutorials/advanced-rendering/flat-and-wireframe-shading/"  target="_blank" rel="noopener"
    >Flat and Wireframe Shading, blog</a></li>
<li><a class="link" href="https://web.archive.org/web/20150906185520/https://forum.libcinder.org/topic/wireframe-shader-implementation"  target="_blank" rel="noopener"
    >Wireframe shader implementation, Cinder Forums</a></li>
<li>[Real-Time Rendering.3rd, Book]</li>
<li><a class="link" href="https://forum.gamer.com.tw/C.php?bsn=60602&amp;snA=2983"  target="_blank" rel="noopener"
    >å¡é€šå¤–æé‚Šæ·±å…¥ç ”ç©¶èˆ‡Unityæ–°ç®¡ç·šåŠŸèƒ½ä½¿ç”¨åˆ†äº«</a></li>
</ol>

</section>

    
    
    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/computergraphics/">ComputerGraphics</a>
        
            <a href="/tags/c&#43;&#43;/">C&#43;&#43;</a>
        
            <a href="/tags/shader/">Shader</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>

    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"crossorigin="anonymous"
                defer="true"
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">ç›¸é—œæ–‡ç« </h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/archives/barycentric-coordinates/">
        
        
            <div class="article-image">
                <img src="/archives/barycentric-coordinates/img/bary5.4a03e80a96d0f77266a7a6acc1458aa8_hue81f62b7405bab549196555b4ed33b8e_122589_250x150_fill_box_smart1_2.png" 
                        width="250" 
                        height="150" 
                        loading="lazy" 
                        data-key="Barycentric-Coordinates" 
                        data-hash="md5-SgPoCpbQ93Jmp6aswUWKqA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">é‡å¿ƒåº§æ¨™çš„æ¨å°èˆ‡ä½¿ç”¨ Barycentric Coordinates</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>


    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "beadx6ggwp" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2021 å±•ç¶­éš¨ç­†
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.3.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >
            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
